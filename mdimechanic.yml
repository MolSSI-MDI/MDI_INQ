code_name: 'INQ'
docker:
  image_name: 'mdi/inq'

  build_image:
    - apt-get update
    - apt-get install -y libblas-dev liblapack-dev libfftw3-dev git cmake pkg-config libboost-all-dev

  build_engine:
    # Obtain a clone of INQ
    - |
      if [ ! -d "build/inq" ]; then
        git clone --recurse-submodules https://gitlab.com/npneq/inq.git build/inq
      fi
    - cd build/inq
    - mkdir -p build
    - cd build
    - ../configure --prefix=/repo/build/install
    - make
    - make install

  validate_engine:
    - cd build/inq/build
    - tests/h2o_ground_state
    - echo "Insert code that will confirm that your code has been built successfully"

    #- cd ../../../
    #- cd tests/validate_engine
    #- mkdir -p build
    #- cd build
    #- cmake ..
    #- make


engine_tests:
  # Provide at least one example input that can be used to test your code's MDI functionality
  script:
    - echo "Insert commands to run an example calculation here"
    - exit 1
